<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symphonie du déclin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="translations.js"></script>
    <script src="script.js"></script>
    <script src="language-persistence.js"></script>
    <script>
        // S'assurer que la langue est appliquée immédiatement au chargement
        document.addEventListener('DOMContentLoaded', function() {
            // Forcer l'application de la langue stockée
            const currentLang = window.languageManager.getCurrentLanguage();
            window.languageManager.translatePage(currentLang);
        });
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #ffffff;
        }

        .back-button {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            z-index: 200;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            text-decoration: none;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(0, 0, 0, 0.2);
            transform: scale(1.05);
        }

        .back-button::before {
            content: '←';
            font-size: 18px;
            color: #000;
            font-weight: 300;
        }

        .language-selector {
            position: absolute;
            right: 20px;
            top: 20px;
            z-index: 200;
        }

        .language-button {
            background: transparent;
            border: 1px solid #9F7AEA;
            color: #9F7AEA;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .language-button:hover {
            background: rgba(159, 122, 234, 0.1);
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(0, 0, 0, 0.95);
            border: 1px solid #9F7AEA;
            border-radius: 3px;
            padding: 5px 0;
            min-width: 120px;
            display: none;
            backdrop-filter: blur(10px);
        }

        .language-selector:hover .language-dropdown {
            display: block;
        }

        .language-dropdown a {
            display: block;
            padding: 8px 15px;
            color: #ffffff;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .language-dropdown a:hover {
            background: rgba(159, 122, 234, 0.1);
            color: #9F7AEA;
        }

        .title {
            position: fixed;
            top: 20px;
            left: 90px;
            font-size: 32px;
            font-weight: 300;
            color: #000;
            z-index: 200;
            background: none;
            padding: 10px 15px;
            letter-spacing: -0.5px;
            text-transform: uppercase;
            font-family: 'Space Grotesk', sans-serif;
        }

        .audio-section {
            margin-top: 60px;
            padding: 40px 20px;
            text-align: center;
            background: rgba(245, 245, 245, 0.3);
            border-radius: 10px;
            margin-left: 20px;
            margin-right: 20px;
            margin-bottom: 50px;
        }

        .audio-container {
            max-width: 300px;
            margin: 0 auto;
            padding: 1rem;
            background: none;
            border-radius: 0;
        }

        .audio-player {
            display: none;
        }

        .audio-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .play-pause-btn {
            background: none;
            border: none;
            color: #000;
            font-size: 1.2em;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 50%;
            transition: background-color 0.3s ease;
        }

        .play-pause-btn:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .audio-progress {
            width: 150px;
            height: 3px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: #000;
            width: 0%;
            transition: width 0.1s ease;
        }

        .time-display {
            color: #000;
            font-size: 0.8em;
            min-width: 60px;
        }

        .media-section {
            padding: 0 20px 40px 20px;
            margin-top: 20vh;
        }

        .media-item {
            max-width: 100%;
            margin: 0 auto;
            text-align: center;
        }
        
        .media-item:not(:first-child) {
            margin-top: 120px;
        }

        .media-item img {
            width: 100%;
            max-width: 1200px;
            height: auto;
            display: block;
            margin: 0 auto;
        }

        .media-item video {
            width: 100%;
            max-width: 1100px;
            height: auto;
            display: block;
            margin: 0 auto;
        }

        .video-section {
            margin-top: 200px;
        }

        .image-container {
            position: relative;
            display: inline-block;
        }

        .arrow {
            position: absolute;
            right: -40px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #000;
            font-size: 24px;
            transition: all 0.3s ease;
            z-index: 10;
            opacity: 0.6;
        }

        .arrow:hover {
            opacity: 1;
            transform: translateY(-50%) scale(1.1);
        }

        .image-container img {
            width: 100%;
            max-width: 1100px;
            height: auto;
            display: block;
            margin: 0 auto;
            transition: opacity 0.3s ease;
        }

        .image-container img.hidden {
            opacity: 0;
            position: absolute;
            top: 0;
            left: 0;
        }

        .image-description {
            text-align: center;
            margin: 50px 0 30px 0;
            font-size: 18px;
            font-weight: 400;
            color: #333;
        }

        .audio-description {
            text-align: center;
            margin: 0 0 30px 0;
            font-size: 18px;
            font-weight: 400;
            color: #333;
        }

        .credits {
            text-align: center;
            margin: 50px 0;
            font-size: 16px;
            color: #666;
            font-style: italic;
        }

        .project-description {
            max-width: 800px;
            margin: 200px auto 80px auto;
            padding: 0 20px;
            font-size: 18px;
            line-height: 1.8;
            color: #333;
            text-align: justify;
            font-family: 'Space Grotesk', sans-serif;
        }

        .project-description p {
            margin: 0 0 20px 0;
        }

        .project-description p:last-child {
            margin-bottom: 0;
        }

        /* Responsive pour mobile */
        @media (max-width: 768px) {
            .back-button {
                width: 35px;
                height: 35px;
                top: 20px;
                left: 20px;
            }

            .back-button::before {
                font-size: 16px;
            }

            .title {
                font-size: 24px;
                top: 15px;
                left: 70px;
                padding: 8px 12px;
            }
        }

        @media (max-width: 480px) {
            .back-button {
                width: 30px;
                height: 30px;
                top: 15px;
                left: 15px;
            }

            .back-button::before {
                font-size: 14px;
            }

            .title {
                font-size: 20px;
                top: 10px;
                left: 55px;
                padding: 6px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="noise-overlay"></div>
    <div class="explosion-effect"></div>
    <div class="particles"></div>
    <div class="alarm-effect"></div>
    <audio id="alarmSound" preload="auto">
        <source src="alarme.mp3" type="audio/mpeg">
        <span data-i18n="audio.not_supported">Votre navigateur ne supporte pas l'élément audio.</span>
    </audio>
    
    <a href="landing.html" class="back-button"></a>
    <div class="title">Symphonie du déclin</div>
    
    <div class="language-selector">
        <button class="language-button">FR</button>
        <div class="language-dropdown">
            <a href="#" data-lang="fr">Français</a>
            <a href="#" data-lang="en">English</a>
            <a href="#" data-lang="es">Español</a>
            <a href="#" data-lang="ru">Русский</a>
        </div>
    </div>



    <div class="media-section">
        <div class="media-item">
            <div class="image-container">
                <img src="optimized/celle.jpg" alt="Symphonie du déclin" id="image1" class="active">
                <img src="optimized/bom.jpg" alt="Symphonie du déclin" id="image2" class="hidden">
                <img src="optimized/bombom.jpg" alt="Symphonie du déclin" id="image3" class="hidden">
                <div class="arrow" onclick="toggleImage()">→</div>
            </div>
            <div class="image-description" style="margin-top: 20px;" data-i18n="symphony.installation_description">
                Installation/performance avec des tours de Kapla et un robot aspirateur, accompagnée de la musique « La Symphonie du déclin »
            </div>
            <div class="credits" style="margin-top: 10px;" data-i18n="symphony.credits">
                DNSEP (Diplôme National Supérieur d'Expression Plastique), juin 2024 – École supérieure des Beaux-Arts de Bordeaux
                <div style="text-align: center; margin-top: 65px; font-size: 16px; color: #666; opacity: 0.8;">↓</div>
            </div>
        </div>
        
        <div class="video-section">
            <div class="media-item">
                <iframe src="https://player.vimeo.com/video/1100817664?h=share&title=0&byline=0&portrait=0&autoplay=0&loop=0&color=ffffff" 
                        frameborder="0" 
                        allow="autoplay; fullscreen; picture-in-picture" 
                        allowfullscreen
                        style="width: 100%; max-width: 1400px; height: auto; min-height: 550px;">
                </iframe>
            </div>
        </div>
        
        <div class="project-description" style="margin-top: 80px; padding: 0 20px;">
            <p data-i18n="symphony.project_description1">Dans ce projet sonore collectif, j'ai invité des personnes venues des quatre coins du monde à imaginer leur propre scénario d'apocalypse. Mais pas avec des mots, avec des sons.</p>
            <p data-i18n="symphony.project_description2">Chacun·e a pris le temps de mimer vocalement ce à quoi ressemblerait, pour lui ou elle, le bruit de la fin. Explosion, silence, râle, rires, grondements, soupirs... De cette matière brute, j'ai composé une symphonie absurde qui rassemble ces visions personnelles du déclin.</p>
            <p data-i18n="symphony.project_description3">L'installation est accompagnée d'un robot aspirateur qui, de façon mécanique et dérisoire, fait s'effondrer des tours de Kapla. Une métaphore désorientée du monde qui s'écroule, mais sans haine, sans rage, comme une farce à laquelle on assiste, un peu bête, un peu ému·e.</p>
        </div>
    </div>

    <div class="audio-section">
        <div class="audio-description" data-i18n="symphony.audio_description">
            Son utilisé lors de l'installation/performance, diffusé par le robot aspirateur.
        </div>
        <div class="audio-container">
            <audio class="audio-player" controlsList="nodownload" preload="auto">
                <source src="symphonie de la fin du monde.mp3" type="audio/mpeg">
                <span data-i18n="audio.not_supported">Votre navigateur ne supporte pas l'élément audio.</span>
            </audio>
            <div class="audio-controls">
                <button class="play-pause-btn">
                    <span class="play-icon">▶</span>
                    <span class="pause-icon" style="display: none;">❚❚</span>
                </button>
                <div class="audio-progress">
                    <div class="progress-bar"></div>
                </div>
                <div class="time-display">
                    <span>0:00</span> / <span>0:00</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Gestion de l'audio pour La symphonie du Déclin
        document.addEventListener('DOMContentLoaded', function() {
            const audioPlayer = document.querySelector('.audio-player');
            const playPauseBtn = document.querySelector('.play-pause-btn');
            const playIcon = document.querySelector('.play-icon');
            const pauseIcon = document.querySelector('.pause-icon');
            const progressBar = document.querySelector('.progress-bar');
            const timeDisplay = document.querySelector('.time-display').children;

            playPauseBtn.addEventListener('click', function() {
                if (audioPlayer.paused) {
                    audioPlayer.play();
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'inline';
                } else {
                    audioPlayer.pause();
                    playIcon.style.display = 'inline';
                    pauseIcon.style.display = 'none';
                }
            });

            audioPlayer.addEventListener('timeupdate', function() {
                const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progressBar.style.width = progress + '%';
                
                // Mise à jour du temps
                const currentMinutes = Math.floor(audioPlayer.currentTime / 60);
                const currentSeconds = Math.floor(audioPlayer.currentTime % 60);
                const durationMinutes = Math.floor(audioPlayer.duration / 60);
                const durationSeconds = Math.floor(audioPlayer.duration % 60);
                
                timeDisplay[0].textContent = `${currentMinutes}:${currentSeconds.toString().padStart(2, '0')}`;
                timeDisplay[1].textContent = `${durationMinutes}:${durationSeconds.toString().padStart(2, '0')}`;
            });
        });

        // Le gestionnaire de langue est maintenant géré par language-persistence.js
        // La langue est appliquée automatiquement au chargement via language-persistence.js

        // Fonction pour basculer entre les images
        function toggleImage() {
            const image1 = document.getElementById('image1');
            const image2 = document.getElementById('image2');
            const image3 = document.getElementById('image3');
            const arrow = document.querySelector('.arrow');
            
            if (image1.classList.contains('active')) {
                image1.classList.remove('active');
                image1.classList.add('hidden');
                image2.classList.remove('hidden');
                image2.classList.add('active');
                arrow.textContent = '→';
            } else if (image2.classList.contains('active')) {
                image2.classList.remove('active');
                image2.classList.add('hidden');
                image3.classList.remove('hidden');
                image3.classList.add('active');
                arrow.textContent = '←';
            } else {
                image3.classList.remove('active');
                image3.classList.add('hidden');
                image1.classList.remove('hidden');
                image1.classList.add('active');
                arrow.textContent = '→';
            }
        }
    </script>
</body>
</html> 